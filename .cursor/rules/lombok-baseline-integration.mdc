---
globs: ["**/entity/**/*.java", "**/service/**/*.java", "**/config/**/*.java"]
alwaysApply: false
autoFix: false
version: "1.1.0"
---

# LOMBOK & PALANTIR BASELINE INTEGRATION

## OVERVIEW

Palantir Baseline does NOT have built-in Lombok support. Lombok generates code at compile time, while Baseline tools analyze compiled code. **Explicit suppressions are required** for Lombok-generated patterns.

## CONFIGURED SUPPRESSIONS

### Checkstyle (`.baseline/checkstyle/custom-suppressions.xml`)

**MissingJavadocMethod** and **JavadocVariable** for entity/DTO classes:
- Pattern: `.*/entity/.*\.java$|.*/dto/.*\.java$|.*Entity\.java$|.*Dto\.java$`
- Why: Lombok generates getters/setters/constructors without javadoc (standard JavaBean conventions)

### SpotBugs (`config/spotbugs/exclude.xml`)

**EI/EI2/EI_EXPOSE_REP/EI_EXPOSE_REP2** for entity classes:
- Pattern: `~com\.digtp\.start\.entity\..*`
- Why: Lombok-generated getters return mutable collections (acceptable for JPA - framework manages collections)

### Sonar (`config/sonar-project.properties`)

**MissingJavadocMethod** for `**/*Entity.java,**/*Dto.java,**/*Record.java`
- Why: Same as Checkstyle - Lombok-generated methods don't have javadoc

### PMD

**No suppressions needed** - Baseline defaults already account for Lombok patterns. Use `@SuppressWarnings("PMD.RuleName")` locally when needed.

## ANNOTATION PROCESSOR ORDER

**Critical**: Lombok must be FIRST in annotation processor chain:

```gradle
annotationProcessor 'org.projectlombok:lombok'  // First!
annotationProcessor 'com.google.errorprone:error_prone_core:2.36.0'
annotationProcessor 'com.uber.nullaway:nullaway:0.12.3'
```

**Why**: Error Prone and NullAway need to see Lombok-generated code.

## BEST PRACTICES

### ✅ DO
- Use `@RequiredArgsConstructor` for constructor injection
- Use `@Getter/@Setter` for simple accessors
- Use package/file patterns for suppressions (not global)
- Keep suppressions minimal and documented

### ❌ DON'T
- Don't suppress all warnings globally for Lombok
- Don't use `@Data` on classes with business logic
- Don't mix Lombok with manual code (getter + `@Getter`)


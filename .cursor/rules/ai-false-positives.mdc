---
globs: ["**/entity/**/*.java", "**/view/**/*.java", "**/service/**/*.java", "**/test/**/*.java", "**/*Test*.java", "build.gradle", "config/**/*.xml", "config/**/*.properties", ".baseline/**"]
alwaysApply: false
autoFix: false
version: "1.0.0"
---

# AI FALSE POSITIVES DECISION GUIDE

## QUICK DECISION TREE

1. **Framework annotation?** (@Bean, @Subscribe, @Install, @Component, etc.) → ✅ Central config (Error Prone ExcludedAnnotations)
2. **Generated code?** (Lombok, EclipseLink) → ✅ Central config (package patterns)
3. **Test code?** (*Test.java) → ✅ Central config (class patterns)
4. **Legitimate issue?** → ❌ Fix code, don't suppress

## PATTERNS TABLE

| Pattern | Tool | Config File | Solution |
|---------|------|-------------|----------|
| `@Bean`, `@Subscribe`, `@Install`, `@Component`, etc. | Error Prone | `build.gradle` | `UnusedMethod:ExcludedAnnotations` |
| Lombok entities | Checkstyle | `.baseline/checkstyle/custom-suppressions.xml` | Package pattern |
| EclipseLink entities | SpotBugs | `config/spotbugs/exclude.xml` | Package pattern |
| Jmix/Vaadin views | SonarQube | `config/sonar-project.properties` | Multicriteria |
| Test classes | All | Various | Class pattern `.*Test` |
| PMD rules | PMD | Code | `@SuppressWarnings("PMD.RuleName")` (Baseline limitation) |

## QUICK REFERENCE

- **Error Prone**: `build.gradle` → `option("UnusedMethod:ExcludedAnnotations", "...")` - See `@suppress-policy.mdc`
- **SonarQube**: `config/sonar-project.properties` → `sonar.issue.ignore.multicriteria.*`
- **SpotBugs**: `config/spotbugs/exclude.xml` → `<Match><Class><Bug pattern>`
- **Checkstyle**: `.baseline/checkstyle/custom-suppressions.xml` → `<suppress>` - See `@palantir-baseline-integration.mdc`
- **PMD**: Code only → `@SuppressWarnings("PMD.RuleName")` (Baseline limitation) - See `config/pmd/README.md`

## PRINCIPLES

1. **Fix root cause** > Suppress symptom - See `@suppress-policy.mdc` examples
2. **Central config** > Inline (for mass patterns)
3. **Document why** - every suppression needs justification
4. **PMD exception** - Baseline limitation, use inline only - See `config/pmd/README.md`

## RELATED RULES

- `@suppress-policy.mdc` - Comprehensive suppression guidelines
- `@palantir-baseline-integration.mdc` - Baseline configuration details
- `@ai-rules.mdc` - AI workflow and principles

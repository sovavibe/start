replicaCount: 2

image:
  repository: sovavibe/start
  pullPolicy: Always
  tag: 'latest'

imagePullSecrets: []
nameOverride: ''
fullnameOverride: ''

serviceAccount:
  create: true
  annotations: {}
  name: ''

podAnnotations: {}

podSecurityContext: {}
  # fsGroup: 2000

securityContext: {}
  # capabilities:
  #   drop:
  #   - ALL
  # readOnlyRootFilesystem: true
  # runAsNonRoot: true
  # runAsUser: 1000

service:
  type: ClusterIP
  port: 80
  targetPort: 8080

ingress:
  enabled: false
  className: 'nginx'
  annotations: {}
    # cert-manager.io/cluster-issuer: "letsencrypt-prod"
  hosts:
    - host: start.example.com
      paths:
        - path: /
          pathType: Prefix
  tls: []
    # - secretName: start-tls
    #   hosts:
    #     - start.example.com

resources:
  limits:
    cpu: 1000m
    memory: 1Gi
  requests:
    cpu: 500m
    memory: 512Mi

autoscaling:
  enabled: false
  minReplicas: 2
  maxReplicas: 10
  targetCPUUtilizationPercentage: 80

nodeSelector: {}

tolerations: []

affinity: {}

postgresql:
  enabled: true
  image:
    repository: postgres
    tag: '16-alpine'
  persistence:
    enabled: true
    size: 10Gi
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 250m
      memory: 256Mi

config:
  springProfilesActive: 'kubernetes'
  mainDatasourceUrl: 'jdbc:postgresql://start-postgres:5432/start'
  mainDatasourceUsername: 'start'
  managementEndpointsWebExposureInclude: 'health,info,metrics,prometheus'
  managementEndpointHealthShowDetails: 'when-authorized'
  managementMetricsExportPrometheusEnabled: 'true'
  managementOtlpLoggingEndpoint: 'http://otel-collector:4318/v1/logs'
  loggingLevelRoot: 'INFO'
  loggingLevelComDigtpStart: 'INFO'

secrets:
  mainDatasourcePassword: 'CHANGE_ME_IN_PRODUCTION'

observability:
  enabled: false
  otelCollector:
    enabled: false
  loki:
    enabled: false
  grafana:
    enabled: false

# SonarQube/SonarLint project configuration
# Single source of truth - used by both IDE SonarLint and Gradle plugin
#
# Following Jmix/Vaadin framework best practices - global exclusions for framework patterns

# Cognitive complexity threshold
sonar.java.complexity.max=10

# Lombok compatibility: Exclude Lombok-generated code from SonarLint checks
# Lombok generates getters, setters, equals, hashCode, toString, constructors
# These methods follow standard JavaBean conventions and are generated code
# Note: e1, e2, e3 all exclude java:S1186 for **/*.java (Lombok-generated methods)
# SonarQube requires separate criteria entries, so we keep them separate
sonar.issue.ignore.multicriteria=e1,e2,e3,e4,e5,e6,e7,e8,e9,e10,e11,e12,e13,e14

# Exclude MissingJavadocMethod for Lombok-generated getters/setters
sonar.issue.ignore.multicriteria.e1.ruleKey=java:S1186
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.java

# Exclude MissingJavadocMethod for Lombok-generated equals/hashCode/toString
sonar.issue.ignore.multicriteria.e2.ruleKey=java:S1186
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.java

# Exclude MissingJavadocMethod for Lombok-generated constructors
sonar.issue.ignore.multicriteria.e3.ruleKey=java:S1186
sonar.issue.ignore.multicriteria.e3.resourceKey=**/*.java

# Framework compatibility: Exclude DesignForExtension for Jmix/Vaadin framework classes
# Framework views extend StandardView, StandardListView, StandardDetailView
sonar.issue.ignore.multicriteria.e4.ruleKey=java:S2150
sonar.issue.ignore.multicriteria.e4.resourceKey=**/*View.java

# Framework compatibility: Exclude MissingJavadocMethod for framework lifecycle methods
# Jmix/Vaadin lifecycle methods: onInit, onReady, onBeforeSave, onAfterSave, etc.
sonar.issue.ignore.multicriteria.e5.ruleKey=java:S1186
sonar.issue.ignore.multicriteria.e5.resourceKey=**/*View.java

# Framework compatibility: Exclude MissingJavadocMethod for @Install methods
# Vaadin @Install methods are framework callbacks
sonar.issue.ignore.multicriteria.e6.ruleKey=java:S1186
sonar.issue.ignore.multicriteria.e6.resourceKey=**/*View.java

# Framework compatibility: Exclude serialization issues for Vaadin views and Spring Boot application
# Vaadin views and Spring Boot application contain non-serializable framework dependencies
# These are framework-managed and don't need to be serializable
sonar.issue.ignore.multicriteria.e7.ruleKey=java:S1948
sonar.issue.ignore.multicriteria.e7.resourceKey=**/*View.java,**/*Application.java

# Framework compatibility: Exclude S110 (Too many parents) for Jmix views
# Jmix views extend multiple framework classes (StandardView, StandardListView, etc.)
sonar.issue.ignore.multicriteria.e8.ruleKey=java:S110
sonar.issue.ignore.multicriteria.e8.resourceKey=**/*View.java

# Framework compatibility: Exclude S2177 (Method name conflict) for framework lifecycle methods
# Jmix/Vaadin lifecycle methods may have same names as parent methods
sonar.issue.ignore.multicriteria.e9.ruleKey=java:S2177
sonar.issue.ignore.multicriteria.e9.resourceKey=**/*View.java

# Framework compatibility: Exclude S6813 (Field injection) for @ViewComponent and @Value
# @ViewComponent is Vaadin/Jmix mechanism for UI component injection from XML (not Spring field injection)
# @Value is Spring injection for simple values (not beans), which is acceptable and commonly used
# These are framework-specific patterns, not anti-patterns
sonar.issue.ignore.multicriteria.e10.ruleKey=java:S6813
sonar.issue.ignore.multicriteria.e10.resourceKey=**/*View.java

# XML: Exclude S2068 (Hard-coded credentials) for UI labels only
# Jmix view XML files contain UI labels with "password" text, not actual credentials
# Only exclude lines with msg:// (UI label keys), not actual hard-coded credentials
# Limited to view XML files only (excludes Liquibase changelog, config files)
sonar.issue.ignore.multicriteria.e11.ruleKey=xml:S2068
sonar.issue.ignore.multicriteria.e11.resourceKey=**/view/**/*.xml
sonar.issue.ignore.multicriteria.e11.messageRegex=.*msg://.*password.*

# Test compatibility: Exclude S5738 (Deprecated class usage) for @MockBean in tests
# @MockBean is Spring Boot standard for mocking beans in tests
# While deprecated, it's still supported and widely used in Spring Boot testing
# Will be replaced when Spring Boot provides official replacement
sonar.issue.ignore.multicriteria.e12.ruleKey=java:S5738
sonar.issue.ignore.multicriteria.e12.resourceKey=**/*Test.java

# Test compatibility: Exclude S5976 (Parameterized tests) for test methods
# Some tests are clearer as separate methods rather than parameterized
# Parameterized tests can reduce readability for complex test scenarios
sonar.issue.ignore.multicriteria.e13.ruleKey=java:S5976
sonar.issue.ignore.multicriteria.e13.resourceKey=**/*Test.java

# Test compatibility: Exclude S5853 (Multiple assertions) for test methods
# Multiple assertions on same object are acceptable in tests for clarity
# Assertion chains can reduce readability in complex test scenarios
sonar.issue.ignore.multicriteria.e14.ruleKey=java:S5853
sonar.issue.ignore.multicriteria.e14.resourceKey=**/*Test.java

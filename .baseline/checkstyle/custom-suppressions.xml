<?xml version="1.0"?>
<!DOCTYPE suppressions PUBLIC
        "-//Checkstyle//DTD SuppressionFilter Configuration 1.2//EN"
        "https://checkstyle.org/dtds/suppressions_1_2.dtd">

<!--
    Custom suppressions for project-specific patterns.
    This file is NOT overwritten by baselineUpdateConfig.
    See: https://github.com/palantir/gradle-baseline#compalantirbaseline-checkstyle
-->
<suppressions>
    <!--
    Lombok compatibility: Suppress MissingJavadocMethod ONLY for Lombok-generated methods
    Lombok generates getters, setters, equals, hashCode, toString, constructors
    These methods follow standard JavaBean conventions and don't need javadoc
    Pattern matches entity/DTO classes by package path (more reliable than filename)
    -->
    <suppress
            checks="MissingJavadocMethod"
            files=".*/entity/.*\.java$|.*/dto/.*\.java$|.*/record/.*\.java$|.*Entity\.java$|.*Dto\.java$|.*Record\.java$"
            message=".*"/>

    <!--
    Lombok compatibility: Suppress JavadocVariable ONLY for private fields with Lombok annotations
    Lombok @Getter/@Setter/@Data generate accessors, fields don't need javadoc
    Pattern matches entity/DTO classes by package path (more reliable than filename)
    -->
    <suppress
            checks="JavadocVariable"
            files=".*/entity/.*\.java$|.*/dto/.*\.java$|.*/record/.*\.java$|.*Entity\.java$|.*Dto\.java$|.*Record\.java$"
            message=".*"/>

    <!--
    Framework compatibility: Suppress MissingJavadocMethod for specific View classes
    Jmix/Vaadin View classes contain framework lifecycle methods (onInit, onReady, etc.)
    These methods are framework callbacks and follow framework conventions
    Using specific class names instead of broad pattern for stricter control
    -->
    <suppress
            checks="MissingJavadocMethod"
            files=".*/view/.*/.*View\.java$"
            message=".*"/>

    <!--
    Framework compatibility: Suppress JavadocVariable for @ViewComponent fields in View classes
    @ViewComponent fields are framework-injected UI components, don't need javadoc
    Using specific package pattern instead of broad filename pattern
    -->
    <suppress
            checks="JavadocVariable"
            files=".*/view/.*/.*View\.java$"
            message=".*"/>

    <!--
    Framework compatibility: Suppress JavadocVariable for @RequiredArgsConstructor final fields
    Config/Service classes use constructor injection via Lombok @RequiredArgsConstructor
    Final fields injected via constructor don't need javadoc (dependency injection pattern)
    -->
    <suppress
            checks="JavadocVariable"
            files=".*Config\.java$|.*Initializer\.java$|.*Service\.java$|.*Application\.java$"
            message=".*"/>

    <!--
    Framework compatibility: Suppress MissingJavadocMethod for security role interface methods
    Security role interfaces use annotation-based configuration, methods are framework callbacks
    Pattern matches security role interfaces
    -->
    <suppress
            checks="MissingJavadocMethod"
            files=".*Role\.java$"
            message=".*"/>

    <!--
    Framework compatibility: Suppress JavadocVariable for interface constants
    Interface constants (like CODE in role interfaces) are self-documenting
    Pattern matches security role interfaces
    -->
    <suppress
            checks="JavadocVariable"
            files=".*Role\.java$"
            message=".*"/>

    <!--
    Framework compatibility: Suppress MissingJavadocMethod for Spring Boot application methods
    Spring Boot @Bean, @EventListener methods are framework configuration, don't need javadoc
    Main method signature is standard and doesn't need javadoc
    -->
    <suppress
            checks="MissingJavadocMethod"
            files=".*Application\.java$"
            message=".*"/>

    <!-- Framework compatibility: Suppress DesignForExtension for Jmix/Vaadin framework classes -->
    <!-- Framework views extend StandardView, StandardListView, StandardDetailView -->
    <!-- These classes are designed for extension by framework, not by application code -->
    <suppress
            checks="DesignForExtension"
            files=".*/view/.*/.*View\.java$|.*Configuration\.java$"/>

    <!-- Framework compatibility: Suppress DesignForExtension for Spring Boot application class -->
    <!-- Spring Boot @SpringBootApplication class is designed for extension by framework -->
    <suppress
            checks="DesignForExtension"
            files=".*Application\.java$"/>

    <!-- Framework compatibility: Suppress DesignForExtension for Jmix framework classes -->
    <!-- DatabaseUserRepository extends AbstractDatabaseUserRepository (framework class) -->
    <!-- User implements JmixUserDetails (framework interface) -->
    <suppress
            checks="DesignForExtension"
            files=".*Repository\.java$|.*User\.java$"/>

    <!-- Test compatibility: Additional suppressions for test support classes -->
    <!-- Baseline checkstyle-suppressions.xml already suppresses Javadoc* and VisibilityModifier for test classes -->
    <!-- Pattern: [/\\]src[/\\].*[Tt]est[/\\](java|groovy)[/\\] covers most test files -->
    <!-- This is for test_support package which may not match Baseline's test pattern -->
    <suppress
            checks="JavadocVariable"
            files=".*/test_support/.*\.java$"
            message=".*"/>
    <suppress
            checks="MissingJavadocMethod"
            files=".*/test_support/.*\.java$"
            message=".*"/>

    <!-- Test compatibility: Suppress ConstantName for ArchUnit test rules -->
    <!-- ArchUnit convention uses snake_case for rule names, which conflicts with Java constant naming -->
    <suppress
            checks="ConstantName"
            files=".*/architecture/.*\.java$"
            message=".*"/>

    <!-- Framework compatibility: Suppress MissingSerialVersionUID for Jmix/Vaadin framework classes -->
    <!-- Framework views and entities implement Serializable but don't need serialVersionUID -->
    <!-- Jmix/Vaadin manages serialization internally -->
    <suppress
            checks="MissingSerialVersionUID"
            files=".*/view/.*/.*View\.java$|.*Application\.java$|.*Entity\.java$"
            message=".*"/>

    <!-- Framework compatibility: Suppress NonSerializableClass for Jmix/Vaadin framework classes -->
    <!-- Framework views contain non-serializable framework dependencies (MessageBundle, UI components, etc.) -->
    <!-- Example: @ViewComponent private MessageBundle messageBundle; - framework-injected, not serializable, but expected -->
    <!-- This is expected behavior for framework views - framework manages serialization internally -->
    <suppress
            checks="NonSerializableClass"
            files=".*/view/.*/.*View\.java$"
            message=".*"/>

    <!--
    Formatting compatibility: Suppress Indentation for annotation array initialization
    PRIORITY: Auto-format (Palantir Java Format) takes precedence over Checkstyle rules
    
    Problem: Palantir Java Format formats @SuppressWarnings with 4 spaces (correct per Palantir Style Guide),
    but Checkstyle from Baseline requires 8 spaces. This is a known incompatibility.
    
    Solution: Suppress Indentation checks to prioritize auto-formatting.
    Auto-format is the source of truth - if ./gradlew format formats it correctly, Checkstyle should accept it.
    
    This allows ./gradlew format to work without manual fixes after formatting.
    -->
    <suppress
            checks="Indentation"
            files=".*\.java$"/>
    
    <!--
    Framework compatibility: Suppress HiddenField for interface method implementations
    Interface method signature requires parameter name matching field name
    This is a framework contract requirement (Spring Security UserDetails interface)
    Cannot change parameter name without breaking interface contract
    -->
    <suppress
            checks="HiddenField"
            files=".*/entity/User\.java$"
            lines="121"/>
    
    <!--
    Test compatibility: Suppress ConstantName for ArchUnit test conventions
    ArchUnit uses snake_case for rule names, which conflicts with Java constant naming
    This is a framework convention and is acceptable in tests
    -->
    <suppress
            checks="ConstantName"
            files=".*Test\.java$"
            message=".*"/>

    <!--
    Documentation: Suppress AvoidFullyQualifiedNames for FQN in javadoc code examples
    FQN in javadoc {@code} blocks are acceptable for documentation purposes
    Pattern matches OpenTelemetry config classes that contain FQN in javadoc examples
    -->
    <suppress
            checks="RegexpSinglelineJava"
            files=".*OpenTelemetry.*\.java$"
            message=".*Avoid fully qualified names.*"/>

    <!--
    Java language requirement: Suppress AvoidFullyQualifiedNames for package-info.java files
    In package-info.java, annotations on package declarations must use FQN because:
    1. Package declaration must come first (or annotations on the same line)
    2. Imports come after package declaration
    3. Therefore, annotations cannot use imported names
    This is a Java language limitation, not a code style choice
    -->
    <suppress
            checks="AvoidFullyQualifiedNames"
            files=".*[/\\]package-info\.java$"
            message=".*"/>

    <!--
    Framework compatibility: Suppress IllegalThrows for AOP @Around methods
    AOP @Around advice methods must declare throws Throwable to properly propagate
    exceptions from the intercepted method. This is required by AspectJ framework.
    Pattern matches AOP aspect classes (classes with @Aspect annotation)
    -->
    <suppress
            checks="IllegalThrows"
            files=".*/config/.*Aspect\.java$"
            message=".*"/>
</suppressions>
